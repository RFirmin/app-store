{% extends 'storage/layouts/base.html' %}

{% block title %} graphics {% endblock %}

{% block stylesheets %} <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> {% endblock stylesheets %}
 
{% block body %}
        <div class="container">
          <div class="row mt-3">
            <div class="col-6">    
              <div>
                  <canvas id="myChart"></canvas>
              </div>
              <script>
                const ctx = document.getElementById('myChart');
              
                new Chart(ctx, {
                  type: 'line',
                  data: {
                    labels: [{% for demande in demandes %}  '{{ demande.date }}',  {% endfor %}],
                    datasets: [{
                      type: 'line',
                      label: 'Line Dataset',
                      data: [{% for demande in demandes %}  {{ demande.quantite_in }},  {% endfor %}],
                  }, {
                      type: 'line',
                      label: 'Line Dataset',
                      data: [{% for demande in demandes %}  {{ demande.quantite_out }},  {% endfor %}],
                  }],
                  },
                  options: {
                    scales: {
                      y: {
                        beginAtZero: true
                      }
                    }
                  }
                });
              </script>
            </div>
          </div>
        </div>
{% endblock %}

