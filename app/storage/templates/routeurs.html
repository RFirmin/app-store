{% extends 'storage/layouts/base.html' %}

{% block title %} graphics {% endblock %}

{% block stylesheets %} <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> {% endblock stylesheets %}
 
{% block body %}
        <div class="container">
          <div class="row mt-3">
            <div class="col-5">    
            <div>
                <canvas id="myChart"></canvas>
            </div>
            <script>
                const ctx = document.getElementById('myChart');
              
                new Chart(ctx, {
                  type: 'pie',
                  data: {
                    labels: [{% for routeur in routeurs %}  '{{ routeur.category }}',  {% endfor %}],
                    datasets: [{
                      label: '# of taux',
                      data: [{% for routeur in routeurs %}  {{ routeur.quantite_in }},  {% endfor %}],
                      borderWidth: 1,
                      barPercentage: 0.3,
                    }]
                  },
                  options: {
                    scales: {
                      y: {
                        beginAtZero: true
                      }
                    }
                  }
                });
            </script>        
          </div>
          </div>
        </div>
{% endblock %}

